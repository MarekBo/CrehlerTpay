!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/bundles/administration/",n(n.s="Ccr1")}({"15vY":function(e){e.exports=JSON.parse('{"tpay-shopware-payment":{"config":{"successTestMerchantCredentialsNotificationTitle":"Verbindung testen","successTestMerchantCredentialsNotificationMessage":"ine Testverbindung zum Tpay-Server wurde erfolgreich hergestellt.","errorTestMerchantCredentialsNotificationTitle":"Testverbindung fehlgeschlagen","errorTestMerchantCredentialsNotificationMessage":"Es gab ein Problem mit der Testverbindung. Bitte überprüfen Sie die angegebenen Daten","buttonCredentialsTest":"Verbindung testen"},"order":{"tpayTransactionIdLabel":"Tpay-Transaktionskennzeichen"}}}')},Ccr1:function(e,t,n){"use strict";n.r(t);var r=n("ltk6"),a=n.n(r),i=Shopware,o=i.Component,s=i.Mixin;o.register("tpay-test-merchant-credentials-button",{template:a.a,inject:["TpayMerchantCredentialsService"],mixins:[s.getByName("notification")],data:function(){return{isLoading:!1,isSuccess:!1,fields:[]}},methods:{tpayTestMerchantCredentials:function(){var e=this;this.isLoading=!0,this.fields=this.$parent.$parent.$parent.$children;var t=this.getValue("merchantId"),n=this.getValue("merchantSecret"),r=this.getValue("merchantTrApiKey"),a=this.getValue("merchantTrApiPass");this.TpayMerchantCredentialsService.validateMerchantCredentials(t,n,r,a).then((function(t){e.isLoading=!1,t.credentialsValid?e.onSuccess():e.onError()})).catch((function(){e.isLoading=!1,e.onError()}))},onSuccess:function(){var e=this;this.isSuccess=!0,this.createNotificationSuccess({title:this.$tc("tpay-shopware-payment.config.successTestMerchantCredentialsNotificationTitle"),message:this.$tc("tpay-shopware-payment.config.successTestMerchantCredentialsNotificationMessage"),autoClose:!0}),setTimeout((function(){return e.isSuccess=!1}),2e3)},onError:function(){this.createNotificationError({title:this.$tc("tpay-shopware-payment.config.errorTestMerchantCredentialsNotificationTitle"),message:this.$tc("tpay-shopware-payment.config.errorTestMerchantCredentialsNotificationMessage"),autoClose:!0})},getFieldByName:function(e,t){return e.$children[0].$attrs.name==="TpayShopwarePayment.config."+t},getValue:function(e){var t=this,n=this.fields.find((function(n){return t.getFieldByName(n,e)}));return void 0===n.currentValue||""===n.currentValue?n.$attrs.placeholder:n.currentValue}}});var c=n("gMzt"),u=n.n(c);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Shopware.Component.override("sw-order-user-card",{template:u.a,computed:{isTpayPayment:function(){var e=this.currentOrder.transactions.last().customFields;return null!==e&&e.hasOwnProperty("tpay_shopware_payment_transaction_id")&&e.tpay_shopware_payment_transaction_id.length>0}}});var b=Shopware.Classes.ApiService,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,r,a=h(i);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tpay";return p(this,i),a.call(this,e,t,n)}return t=i,(n=[{key:"validateMerchantCredentials",value:function(e,t,n,r){return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/validate-merchant-credentials"),{merchantId:e,merchantSecret:t,merchantTrApiKey:n,merchantTrApiPass:r},{headers:this.getBasicHeaders()}).then((function(e){return b.handleResponse(e)}))}}])&&f(t.prototype,n),r&&f(t,r),i}(b),T=Shopware.Application;T.addServiceProvider("TpayMerchantCredentialsService",(function(e){var t=T.getContainer("init");return new g(t.httpClient,e.loginService)}));var v=n("15vY"),w=n("Mx4i"),S=n("ZYl8");Shopware.Locale.extend("de-DE",v),Shopware.Locale.extend("en-GB",w),Shopware.Locale.extend("pl-PL",S)},Mx4i:function(e){e.exports=JSON.parse('{"tpay-shopware-payment":{"config":{"successTestMerchantCredentialsNotificationTitle":"Valid merchant credentials","successTestMerchantCredentialsNotificationMessage":"A test connection to Tpay server was successfully established","errorTestMerchantCredentialsNotificationTitle":"Invalid merchant credentials","errorTestMerchantCredentialsNotificationMessage":"There was a problem with the test connection. Check the correctness of the provided data.","buttonCredentialsTest":"Test credentials"},"order":{"tpayTransactionIdLabel":"Tpay transaction identifier"}}}')},ZYl8:function(e){e.exports=JSON.parse('{"tpay-shopware-payment":{"config":{"successTestMerchantCredentialsNotificationTitle":"Testowe połączenie","successTestMerchantCredentialsNotificationMessage":"Pomyślnie nawiązano testowe połączenie z serwerem Tpay","errorTestMerchantCredentialsNotificationTitle":"Nieudane testowe połączenie","errorTestMerchantCredentialsNotificationMessage":"Wystąpił problem z tetowym połączeniem. Sprawdź poprawność podanych danych","buttonCredentialsTest":"Przetestuj połączenie"},"order":{"tpayTransactionIdLabel":"Identyfikator transakcji Tpay"}}}')},gMzt:function(e,t){e.exports="{% block sw_order_detail_base_secondary_info_payment %}\n    {% parent %}\n    <template v-if=\"isTpayPayment\">\n        <dt>{{ $tc('tpay-shopware-payment.order.tpayTransactionIdLabel') }}</dt>\n        <dd>{{ currentOrder.transactions.last().customFields.tpay_shopware_payment_transaction_id }}</dd>\n    </template>\n{% endblock %}\n"},ltk6:function(e,t){e.exports='{% block tpay_shopware_payment_test_merchant_credentials_button %}\n    <sw-button-process :isLoading="isLoading" :processSuccess="isSuccess" :animationTimeout="100" @click="tpayTestMerchantCredentials" >\n        {{ $tc(\'tpay-shopware-payment.config.buttonCredentialsTest\') }}\n    </sw-button-process >\n{% endblock %}\n'}});